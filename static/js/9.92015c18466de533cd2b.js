webpackJsonp([9],{"4AKn":function(t,a,e){"use strict";var r=e("Zrlr"),n=e.n(r),i=e("wxAW"),h=e.n(i),s=e("kQ6u");function o(t,a,e,r,n){for(var i=0,h=0;h<e;++h){if(i>h)for(var s=0;s<n;++s){var o=a+i*r+s,c=a+h*r+s,v=t[o];t[o]=t[c],t[c]=v}for(var f=e;i&(f>>=1);)i&=~f;i|=f}}function c(t,a,e,r,n){for(var i=a+e*r/2,h=0;h<e/2;++h)for(var s=0;s<n;++s){var o=a+h*r+s,c=i+h*r+s,v=t[o];t[o]=t[c],t[c]=v}}function v(t,a,e,r,n,i,h){return u(t,a,e,r,n,i,!0,h)}function f(t,a,e,r,n,i,h){return u(t,a,e,r,n,i,!1,h)}function u(t,a,e,r,n,i,h,s){for(var v=Math.PI,f=0;f<r;++f){h&&(c(t,f*i,e,n,s),c(a,f*i,e,n,s)),o(t,f*i,e,n,s),o(a,f*i,e,n,s);for(var u=h?v:-v,l=1;l<e;l+=l)for(var g=u/l,m=Math.sin(g/2),d=1,w=0,p=-2*m*m,_=Math.sin(g),y=0;y<l;++y){for(var k=y;k<e;k+=2*l)for(var I=k+l,F=0;F<s;++F){var M=f*i+k*n+F,A=f*i+I*n+F,B=t[A],b=a[A],C=B*d-b*w,E=B*w+b*d;t[A]=t[M]-C,a[A]=a[M]-E,t[M]+=C,a[M]+=E}var P=p*w+_*d;d+=p*d-_*w,w+=P}h||(c(t,f*i,e,n,s),c(a,f*i,e,n,s))}}var l=function(){function t(a,e,r,i,h,o){n()(this,t),this.channels=a,this.width=i,this.height=h,this.real=e||new Array(i*h*4),this.imag=r||new Array(i*h*4),this.buffer=o||new s.a(this.width,this.height)}return h()(t,[{key:"clone",value:function(){for(var a=new Array(this.real.length),e=0;e<this.real.length;e++)a[e]=this.real[e];for(var r=new Array(this.imag.length),n=0;n<this.imag.length;n++)r[n]=this.imag[n];return new t(this.channels,a,r,this.width,this.height)}},{key:"toBuffer",value:function(t){for(var a=new s.a(this.width,this.height),e=this.real,r=a.uint8,n=this.width*this.height,i=0;i<n;++i){for(var h=0;h<this.channels;++h){var o=4*i+h,c=e[o];c=c<0?0:c>1?1:c,t&&(c=Math.pow(c,1/t)),r[o]=255*c}r[4*i+3]=255}return a}},{key:"toMaginitude",value:function(){for(var t=this.clone(),a=t.real,e=t.imag,r=t.width*t.height,n=0;n<r;++n)for(var i=0;i<this.channels;++i){var h=4*n+i,s=a[h],o=e[h];a[h]=Math.sqrt(s*s+o*o)/r,e[h]=0}return t}},{key:"toPhase",value:function(){for(var t=this.clone(),a=t.real,e=t.imag,r=t.width*t.height,n=Math.PI,i=0;i<r;++i)for(var h=0;h<this.channels;++h){var s=4*i+h,o=a[s],c=e[s];a[s]=Math.atan2(c,o)/n/2+.5,e[s]=0}return t}},{key:"ifft",value:function(){var t=this.clone(),a=t.width,e=t.height,r=t.real,n=t.imag;v(r,n,a,e,4,4*a,this.channels),v(r,n,e,a,4*a,4,this.channels);for(var i=a*e,h=0;h<i;++h)for(var s=0;s<this.channels;++s){var o=4*h+s;r[o]=r[o]/i,n[o]=0}return t}},{key:"fft",value:function(){var t=this.clone(),a=t.width,e=t.height,r=t.real,n=t.imag;return f(r,n,a,e,4,4*a,this.channels),f(r,n,e,a,4*a,4,this.channels),t}},{key:"autoContrast",value:function(){for(var t=this.clone(),a=t.real,e=t.width*t.height,r=[1,1,1,1],n=[0,0,0,0],i=0;i<e;++i)for(var h=0;h<this.channels;++h){var s=a[4*i+h];r[h]=Math.min(s,r[h]),n[h]=Math.max(s,n[h])}for(var o=0;o<e;++o)for(var c=0;c<this.channels;++c){var v=4*o+c;a[v]=(a[v]-r[c])/(n[c]-r[c])}return t}}],[{key:"createFromImageBuffer",value:function(a){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=a.width*a.height,n=new Array(a.width*a.height*4),i=new Array(a.width*a.height*4),h=a.uint8,s=0;s<r;++s)for(var o=0;o<e;++o){var c=4*s+o;n[c]=h[c]/255,i[c]=0}return new t(e,n,i,a.width,a.height,a)}},{key:"createFromImage",value:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=s.a.createFromImage(a);return t.createFromImageBuffer(r,e)}}]),t}();a.a=l},ITvZ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("4AKn"),n=(e("eiJk"),{name:"Fft",data:function(){return{}},mounted:function(){},methods:{selectImage:function(t){this.start(t.target)},start:function(t){var a=document.getElementById("mag-canvas"),e=document.getElementById("phase-canvas"),n=document.getElementById("output-canvas"),i=r.a.createFromImage(t).fft(),h=i.toMaginitude().autoContrast().toBuffer(6),s=i.toPhase().toBuffer(),o=i.ifft().toBuffer();h.toCanvas(a),s.toCanvas(e),o.toCanvas(n)}}}),i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("h1",[t._v("FFT")]),t._v(" "),e("p",[t._v("Experiments with Fast Fourier Transformations in javascript. Click an image at the top to show an FFT magnitude and phase image.")]),t._v(" "),e("img",{attrs:{src:"/static/sample-images/lena.png"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/clown.jpg"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/sine4.png"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/twigs.jpg"},on:{click:t.selectImage}}),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[t._v("\n      Magnitude"),e("br"),t._v(" "),e("canvas",{attrs:{id:"mag-canvas",width:"100",height:"100"}})]),t._v(" "),e("div",[t._v("\n      Phase"),e("br"),t._v(" "),e("canvas",{attrs:{id:"phase-canvas",width:"100",height:"100"}})]),t._v(" "),e("div",[t._v("\n      Inverse FFT"),e("br"),t._v(" "),e("canvas",{attrs:{id:"output-canvas",width:"100",height:"100"}})])])}]};var h=e("VU/8")(n,i,!1,function(t){e("pO5D")},"data-v-644551c8",null);a.default=h.exports},pO5D:function(t,a){}});
//# sourceMappingURL=9.92015c18466de533cd2b.js.map