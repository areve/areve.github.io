{"version":3,"sources":["webpack:///src/components/TicTacToe.vue","webpack:///./src/components/TicTacToe.vue?407b","webpack:///./src/components/TicTacToe.vue"],"names":["TicTacToe","name","components","data","game","board","turn","next","gameover","winner","player1","player2","log","destroying","beforeDestroy","this","mounted","reset","methods","getRandomOption","happiness","piece","record","playForever","play","setTimeout","playOne","getBetterAction","getRandomAction","player","method","action","feedback","applyAction","analyse","push","_ref","Math","random","arguments","length","undefined","x","y","getFeedback","isGameWon","b","components_TicTacToe","render","_vm","_h","$createElement","_c","_self","attrs","fluid","_v","staticClass","_l","row","key","$id","cell","_s","type","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.4d8286b1be3083a4c6af.js","sourcesContent":["<template>\n  <section fluid>\n    <h1>tic-tac-toe</h1>\n    <p>A game of noughts and crosses the program plays itself with random moves without knowing the rules of the game. It gets feedback and the move is applied only. What would the game need to do learn how to win given only this feedback?</p>\n    <div class=\"board\">\n      <table>\n        <tr\n          v-for=\"row in game.board\"\n          :key=\"row.$id\">\n          <td\n            v-for=\"cell in row\"\n            :key=\"cell.$id\">\n            <span>{{ cell }}</span>\n          </td>\n        </tr>\n      </table>\n    </div>\n    <button\n      type=\"button\"\n      @click=\"playForever\">Play</button>\n    <p>Player1 <strong>{{ player1.happiness }}</strong></p>\n    <p>Player2 <strong>{{ player2.happiness }}</strong></p>\n  </section>\n</template>\n\n<script>\n\n/* eslint-disable */\n\nexport default {\n  name: 'tic-tac-toe',\n  components: {},\n  data() {\n    return {\n      game: { board: null, turn: null, next: null, gameover: null, winner: null },\n      player1: {},\n      player2: {},\n      log: null,\n      destroying: false\n    };\n  },\n  beforeDestroy() {\n    this.destroying = true;\n  },\n  mounted() {\n    this.reset();\n  },\n  methods: {\n    reset() {\n      this.game = {\n        board: [\n          [' ', ' ', ' '],\n          [' ', ' ', ' '],\n          [' ', ' ', ' ']\n        ],\n        turn: 0,\n        next: this.getRandomOption('x', 'o'),\n        winner: null,\n        gameover: false\n      },\n      this.next = 'o';\n      this.player1 = {\n        name: 'player1',\n        happiness: 0,\n        piece: 'o',\n        record: []\n      };\n      this.player2 = {\n        name: 'player2',\n        happiness: 0,\n        piece: 'x',\n        record: []\n      };\n      this.log = [];\n    },\n    playForever() {\n      this.reset();\n      this.play();\n      if (!this.destroying)\n      setTimeout(this.playForever, 1000);\n    },\n    play() {\n      while (!this.game.gameover) {\n        this.playOne(this.player1, this.getBetterAction);\n        this.playOne(this.player2, this.getRandomAction);\n      }\n    },\n    playOne(player, method) {\n      const action = method(player);\n      const feedback = this.applyAction(action, player);\n      this.analyse(action, player, feedback);\n      this.log.push({ player: player.name, action, feedback });\n    },\n    analyse(action, player, feedback) {\n      player.record.push({ action, feedback });\n    },\n    getRandomOption(...options) {\n      return options[~~(Math.random() * options.length)];\n    },\n    getBetterAction(player) {\n      if (this.game.next !== player.piece) return { action: 'wait' };\n      if (this.game.board[1][1] === ' ') return { action: 'place', piece: player.piece, x: 1, y: 1 };\n      return this.getRandomAction();\n    },\n    getRandomAction() {\n      const action = this.getRandomOption('wait', 'place');\n      if (action === 'place') {\n        const piece = this.getRandomOption('o', 'x');\n        const x = this.getRandomOption(0, 1, 2);\n        const y = this.getRandomOption(0, 1, 2);\n        return { action, piece, x, y };\n      }\n      return { action };\n    },\n    getFeedback(action, player) {\n      let feedback = 0;\n      if (player.piece !== action.piece) {\n        if (action.action === 'wait') {\n          feedback += 10;\n        } else {\n          feedback -= 100;\n        }\n      } else {\n        if (action.action === 'place') {\n          if (action.piece !== this.game.next) {\n            feedback -= 100;\n          } else {\n            if (this.game.board[action.y][action.x] !== ' ') {\n              feedback -= 100;\n            } else {\n              feedback += 10;\n            }\n          }\n        }\n      }\n      return feedback;\n    },\n    isGameWon() {\n      const b = this.game.board;\n      if (b[0][0] !== ' ' && b[0][0] === b[0][1] && b[0][1] === b[0][2]) return true;\n      if (b[1][0] !== ' ' && b[1][0] === b[1][1] && b[1][1] === b[1][2]) return true;\n      if (b[2][0] !== ' ' && b[2][0] === b[2][1] && b[2][1] === b[2][2]) return true;\n\n      if (b[0][0] !== ' ' && b[0][0] === b[1][0] && b[1][0] === b[2][0]) return true;\n      if (b[0][1] !== ' ' && b[0][1] === b[1][1] && b[1][1] === b[2][1]) return true;\n      if (b[0][2] !== ' ' && b[0][2] === b[1][2] && b[1][2] === b[2][2]) return true;\n\n      if (b[0][0] !== ' ' && b[0][0] === b[1][1] && b[1][1] === b[2][2]) return true;\n      if (b[0][2] !== ' ' && b[0][2] === b[1][1] && b[1][1] === b[2][0]) return true;\n      return false;\n    },\n    applyAction(action, player) {\n      let feedback = this.getFeedback(action, player);\n      if (feedback > 0) {\n        if (action.action === 'place') {\n          this.game.board[action.y][action.x] = action.piece;\n          this.game.next = this.game.next === 'o' ? 'x' : 'o';\n          this.game.turn += 1;\n\n          if (this.game.turn === 9) {\n            this.game.gameover = true;\n          }\n\n          if (this.isGameWon()) {\n            this.game.gameover = true;\n            this.game.winner = player.name;\n            feedback += 10000;\n          }\n        }\n      }\n\n      player.happiness += feedback;\n      return feedback;\n    }\n  }\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n  $square-size: 40px;\n  $border-size: 2px;\n\n  .board {\n    table {\n      background-color: transparent;\n      border-collapse: collapse;\n      font-size: 2em;\n      width: calc(6em + $border-size * 4);\n      td {\n        border: $border-size solid #000;\n        width: 2em;\n        height: 2em;\n        font-family: monospace;\n        line-height: 2em;\n        padding: 0;\n        text-align: center;\n        span {\n          font-size: 2em;\n          color: #999;\n        }\n      }\n      tr {\n        background-color: transparent;\n        &:first-child td {\n          border-top-color: transparent;\n        }\n        &:last-child td {\n          border-bottom-color: transparent;\n        }\n        td:last-child {\n          border-right-color: transparent;\n        }\n        td:first-child {\n          border-left-color: transparent;\n        }\n      }\n    }\n  }\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TicTacToe.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"fluid\":\"\"}},[_c('h1',[_vm._v(\"tic-tac-toe\")]),_vm._v(\" \"),_c('p',[_vm._v(\"A game of noughts and crosses the program plays itself with random moves without knowing the rules of the game. It gets feedback and the move is applied only. What would the game need to do learn how to win given only this feedback?\")]),_vm._v(\" \"),_c('div',{staticClass:\"board\"},[_c('table',_vm._l((_vm.game.board),function(row){return _c('tr',{key:row.$id},_vm._l((row),function(cell){return _c('td',{key:cell.$id},[_c('span',[_vm._v(_vm._s(cell))])])}))}))]),_vm._v(\" \"),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.playForever}},[_vm._v(\"Play\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Player1 \"),_c('strong',[_vm._v(_vm._s(_vm.player1.happiness))])]),_vm._v(\" \"),_c('p',[_vm._v(\"Player2 \"),_c('strong',[_vm._v(_vm._s(_vm.player2.happiness))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5bef38a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TicTacToe.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5bef38a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"includePaths\\\":[\\\"./src/styles\\\",\\\"./node_modules/bootstrap/scss\\\",\\\"./node_modules/bootstrap/dist/css\\\"],\\\"data\\\":\\\"@import \\\\\\\"_main.scss\\\\\\\";\\\",\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TicTacToe.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TicTacToe.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TicTacToe.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5bef38a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TicTacToe.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5bef38a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TicTacToe.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}