{"version":3,"sources":["webpack:///src/components/Gravity.vue","webpack:///./src/components/Gravity.vue?3150","webpack:///./src/components/Gravity.vue"],"names":["Gravity","name","components","data","context","width","height","interval","scale","bodyScale","intervalSeconds","seconds","bodies","computed","beforeDestroy","clearInterval","this","mounted","reset","canvas","document","getElementsByTagName","getContext","render","setInterval","methods","speed","modifier","zoom","x","y","mass","velocity","lineColor","fillColor","accelerateBodyTowards","body","target","dx","dy","distanceToTarget","Math","sqrt","unitVector","M","m","G","force","timeScale","_this","clearCanvas","forEach","moveBody","drawBody","ctx","r","beginPath","arc","PI","fillStyle","fill","lineWidth","strokeStyle","stroke","fillRect","components_Gravity","_vm","_h","$createElement","_c","_self","attrs","fluid","_v","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.294f15170c717e524392.js","sourcesContent":["<template>\n  <section fluid>\n    <h1>Gravity</h1>\n    <p>A very simple gravity simulator, with some rough data from our solar system. The calculations are crude and get cruder as the simulation speeds up. You can see planets expelled from the solar system!</p>\n    <div>\n      <button\n        @click=\"reset\">Reset</button>\n      <button\n        @click=\"speed(0.5)\">Slower x0.5</button>\n      <button\n        @click=\"speed(2)\">Faster x2</button>\n      <button\n        @click=\"zoom(0.5)\">Zoom-out x0.5</button>\n      <button\n        @click=\"zoom(2)\">Zoom-in x2</button>\n    </div>\n    <canvas\n      width=\"500\"\n      height=\"500\" />\n\n  </section>\n</template>\n<script>\nexport default {\n  name: 'Gravity',\n  components: {},\n  data () {\n    return {\n      context: null,\n      width: null,\n      height: null,\n      interval: null,\n      scale: null,\n      bodyScale: 2,\n      intervalSeconds: 0.010,\n      seconds: null,\n      bodies: []\n    }\n  },\n  computed: {},\n  beforeDestroy () {\n    clearInterval(this.interval)\n    this.interval = null\n  },\n\n  mounted () {\n    this.reset()\n    const canvas = document.getElementsByTagName('canvas')[0]\n    this.context = canvas.getContext('2d')\n    this.width = canvas.width\n    this.height = canvas.height\n    this.render()\n    this.interval = setInterval(this.render, this.intervalSeconds * 1000)\n  },\n  methods: {\n    speed (modifier) {\n      this.seconds = this.seconds * modifier\n    },\n    zoom (modifier) {\n      this.scale = this.scale * modifier\n    },\n    reset () {\n      const secondsInAYear = 3.154e7\n      this.seconds = secondsInAYear / 60 // 1 year = 3.154e+7 seconds\n      this.scale = 0.5e-9\n\n      // fact sheets\n      // http://planetfacts.org/orbital-speed-of-planets-in-order/\n      // http://www.enchantedlearning.com/subjects/astronomy/planets/\n      this.bodies = [\n        {\n          name: 'sun',\n          x: 0,\n          y: 0,\n          mass: 1.989e30, // kg\n          velocity: {\n            x: 0,\n            y: 0\n          },\n          lineColor: '#ff0',\n          fillColor: '#fff'\n        },\n        {\n          name: 'mercury',\n          x: 0,\n          y: 5.79e10, // m\n          mass: 3.3e23, // kg\n          velocity: {\n            x: -47870, // m/s\n            y: 0\n          },\n          lineColor: '#f90',\n          fillColor: '#f90'\n        },\n        {\n          name: 'venus',\n          x: 0,\n          y: 1.082e11, // m\n          mass: 4.867e24, // kg\n          velocity: {\n            x: -35020, // m/s\n            y: 0\n          },\n          lineColor: '#0f0',\n          fillColor: '#0f0'\n        },\n        {\n          name: 'earth',\n          x: 0,\n          y: 1.496e11, // m\n          mass: 5.972e24, // kg\n          velocity: {\n            x: -29780, // m/s\n            y: 0\n          },\n          lineColor: '#fff',\n          fillColor: '#09f'\n        },\n        {\n          name: 'moon',\n          x: 3.844e8, // m\n          y: 1.496e11, // m\n          mass: 7.34767309e22, // kg\n          velocity: {\n            x: -29780, // m/s\n            y: 1000 // m/s\n          },\n          lineColor: '#fff',\n          fillColor: '#fff'\n        },\n        {\n          name: 'mars',\n          x: 0,\n          y: 2.279e11, // m\n          mass: 6.39e23, // kg\n          velocity: {\n            x: -24077, // m/s\n            y: 0\n          },\n          lineColor: '#f00',\n          fillColor: '#900'\n        },\n        {\n          name: 'jupiter',\n          x: 0,\n          y: 7.783e11, // m\n          mass: 1.9e27, // kg\n          velocity: {\n            x: -13070, // m/s\n            y: 0\n          },\n          lineColor: '#f0f',\n          fillColor: '#f0f'\n        },\n        {\n          name: 'saturn',\n          x: 0,\n          y: 1.427e12, // m\n          mass: 5.69e26, // kg\n          velocity: {\n            x: -9690, // m/s\n            y: 0\n          },\n          lineColor: '#fc0',\n          fillColor: '#fc0'\n        },\n        {\n          name: 'uranus',\n          x: 0,\n          y: 2.871e12, // m\n          mass: 8.68e25, // kg\n          velocity: {\n            x: -6810, // m/s\n            y: 0\n          },\n          lineColor: '#00f',\n          fillColor: '#00f'\n        },\n        {\n          name: 'neptune',\n          x: 0,\n          y: 4.4971e12, // m\n          mass: 1.02e26, // kg\n          velocity: {\n            x: -5430, // m/s\n            y: 0\n          },\n          lineColor: '#09f',\n          fillColor: '#09f'\n        }\n      ]\n    },\n    accelerateBodyTowards (body, target) {\n      const dx = body.x - target.x\n      const dy = body.y - target.y\n      const distanceToTarget = Math.sqrt(dx * dx + dy * dy)\n      const unitVector = {\n        x: dx / distanceToTarget,\n        y: dy / distanceToTarget\n      }\n\n      const M = target.mass\n      const m = body.mass\n      const G = 6.67384e-11\n      const force = {\n        x: unitVector.x * G * M * m / (distanceToTarget * distanceToTarget),\n        y: unitVector.y * G * M * m / (distanceToTarget * distanceToTarget)\n      }\n\n      const timeScale = this.seconds * this.intervalSeconds\n      body.velocity.x -= force.x * timeScale / body.mass\n      body.velocity.y -= force.y * timeScale / body.mass\n    },\n    render () {\n      this.clearCanvas()\n      this.bodies.forEach(body => {\n        this.bodies.forEach(target => {\n          if (body === target) return\n          this.accelerateBodyTowards(body, target)\n        })\n      })\n      this.bodies.forEach(body => this.moveBody(body))\n      this.bodies.forEach(body => this.drawBody(body))\n    },\n    moveBody (body) {\n      const timeScale = this.seconds * this.intervalSeconds\n      body.x += body.velocity.x * timeScale\n      body.y += body.velocity.y * timeScale\n    },\n    drawBody (body) {\n      const ctx = this.context\n      const x = this.width / 2 + body.x * this.scale\n      const y = this.height / 2 + body.y * this.scale\n      // const r = Math.pow(body.mass, 1 / 5) * this.scale * this.bodyScale\n      const r = body.name === 'moon' ? 2 : 4\n      ctx.beginPath()\n      ctx.arc(x, y, r, 0, 2 * Math.PI, false)\n      ctx.fillStyle = body.fillColor\n      ctx.fill()\n      ctx.lineWidth = this.scale * this.bodyScale\n      ctx.strokeStyle = body.lineColor\n      ctx.stroke()\n    },\n    clearCanvas () {\n      const ctx = this.context\n      ctx.fillStyle = '#000'\n      ctx.fillRect(0, 0, this.width, this.height)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Gravity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"fluid\":\"\"}},[_c('h1',[_vm._v(\"Gravity\")]),_vm._v(\" \"),_c('p',[_vm._v(\"A very simple gravity simulator, with some rough data from our solar system. The calculations are crude and get cruder as the simulation speeds up. You can see planets expelled from the solar system!\")]),_vm._v(\" \"),_c('div',[_c('button',{on:{\"click\":_vm.reset}},[_vm._v(\"Reset\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.speed(0.5)}}},[_vm._v(\"Slower x0.5\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.speed(2)}}},[_vm._v(\"Faster x2\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.zoom(0.5)}}},[_vm._v(\"Zoom-out x0.5\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.zoom(2)}}},[_vm._v(\"Zoom-in x2\")])]),_vm._v(\" \"),_c('canvas',{attrs:{\"width\":\"500\",\"height\":\"500\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e8af4ae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Gravity.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e8af4ae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"includePaths\\\":[\\\"./src/styles\\\",\\\"./node_modules/bootstrap/scss\\\",\\\"./node_modules/bootstrap/dist/css\\\"],\\\"data\\\":\\\"@import \\\\\\\"_main.scss\\\\\\\";\\\",\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Gravity.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Gravity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Gravity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e8af4ae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Gravity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e8af4ae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Gravity.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}