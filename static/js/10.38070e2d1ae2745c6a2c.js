webpackJsonp([10],{"4AKn":function(t,a,e){"use strict";var n=e("Zrlr"),r=e.n(n),i=e("wxAW"),s=e.n(i),h=e("kQ6u");function o(t,a,e,n,r){for(var i=0,s=0;s<e;++s){if(i>s)for(var h=0;h<r;++h){var o=a+i*n+h,c=a+s*n+h,v=t[o];t[o]=t[c],t[c]=v}for(var f=e;i&(f>>=1);)i&=~f;i|=f}}function c(t,a,e,n,r){for(var i=a+e*n/2,s=0;s<e/2;++s)for(var h=0;h<r;++h){var o=a+s*n+h,c=i+s*n+h,v=t[o];t[o]=t[c],t[c]=v}}function v(t,a,e,n,r,i,s){return u(t,a,e,n,r,i,!0,s)}function f(t,a,e,n,r,i,s){return u(t,a,e,n,r,i,!1,s)}function u(t,a,e,n,r,i,s,h){for(var v=Math.PI,f=0;f<n;++f){s&&(c(t,f*i,e,r,h),c(a,f*i,e,r,h)),o(t,f*i,e,r,h),o(a,f*i,e,r,h);for(var u=s?v:-v,l=1;l<e;l+=l)for(var g=u/l,m=Math.sin(g/2),d=1,w=0,_=-2*m*m,p=Math.sin(g),y=0;y<l;++y){for(var k=y;k<e;k+=2*l)for(var F=k+l,I=0;I<h;++I){var C=f*i+k*r+I,M=f*i+F*r+I,A=t[M],B=a[M],P=A*d-B*w,b=A*w+B*d;t[M]=t[C]-P,a[M]=a[C]-b,t[C]+=P,a[C]+=b}var E=_*w+p*d;d+=_*d-p*w,w+=E}s||(c(t,f*i,e,r,h),c(a,f*i,e,r,h))}}var l=function(){function t(a,e,n,i,s,o){r()(this,t),this.channels=a,this.width=i,this.height=s,this.real=e||new Array(i*s*4),this.imag=n||new Array(i*s*4),this.buffer=o||new h.a(this.width,this.height)}return s()(t,[{key:"clone",value:function(){for(var a=new Array(this.real.length),e=0;e<this.real.length;e++)a[e]=this.real[e];for(var n=new Array(this.imag.length),r=0;r<this.imag.length;r++)n[r]=this.imag[r];return new t(this.channels,a,n,this.width,this.height)}},{key:"toBuffer",value:function(t){for(var a=new h.a(this.width,this.height),e=this.real,n=a.uint8,r=this.width*this.height,i=0;i<r;++i){for(var s=0;s<this.channels;++s){var o=4*i+s,c=e[o];c=c<0?0:c>1?1:c,t&&(c=Math.pow(c,1/t)),n[o]=255*c}n[4*i+3]=255}return a}},{key:"toMaginitude",value:function(){for(var t=this.clone(),a=t.real,e=t.imag,n=t.width*t.height,r=0;r<n;++r)for(var i=0;i<this.channels;++i){var s=4*r+i,h=a[s],o=e[s];a[s]=Math.sqrt(h*h+o*o)/n,e[s]=0}return t}},{key:"toPhase",value:function(){for(var t=this.clone(),a=t.real,e=t.imag,n=t.width*t.height,r=Math.PI,i=0;i<n;++i)for(var s=0;s<this.channels;++s){var h=4*i+s,o=a[h],c=e[h];a[h]=Math.atan2(c,o)/r/2+.5,e[h]=0}return t}},{key:"ifft",value:function(){var t=this.clone(),a=t.width,e=t.height,n=t.real,r=t.imag;v(n,r,a,e,4,4*a,this.channels),v(n,r,e,a,4*a,4,this.channels);for(var i=a*e,s=0;s<i;++s)for(var h=0;h<this.channels;++h){var o=4*s+h;n[o]=n[o]/i,r[o]=0}return t}},{key:"fft",value:function(){var t=this.clone(),a=t.width,e=t.height,n=t.real,r=t.imag;return f(n,r,a,e,4,4*a,this.channels),f(n,r,e,a,4*a,4,this.channels),t}},{key:"autoContrast",value:function(){for(var t=this.clone(),a=t.real,e=t.width*t.height,n=[1,1,1,1],r=[0,0,0,0],i=0;i<e;++i)for(var s=0;s<this.channels;++s){var h=a[4*i+s];n[s]=Math.min(h,n[s]),r[s]=Math.max(h,r[s])}for(var o=0;o<e;++o)for(var c=0;c<this.channels;++c){var v=4*o+c;a[v]=(a[v]-n[c])/(r[c]-n[c])}return t}}],[{key:"createFromImageBuffer",value:function(a){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=a.width*a.height,r=new Array(a.width*a.height*4),i=new Array(a.width*a.height*4),s=a.uint8,h=0;h<n;++h)for(var o=0;o<e;++o){var c=4*h+o;r[c]=s[c]/255,i[c]=0}return new t(e,r,i,a.width,a.height,a)}},{key:"createFromImage",value:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=h.a.createFromImage(a);return t.createFromImageBuffer(n,e)}}]),t}();a.a=l},ITvZ:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("4AKn"),r=(e("eiJk"),{name:"Fft",data:function(){return{}},mounted:function(){},methods:{selectImage:function(t){this.start(t.target)},start:function(t){var a=document.getElementsByClassName("mag-canvas")[0],e=document.getElementsByClassName("phase-canvas")[0],r=document.getElementsByClassName("output-canvas")[0],i=n.a.createFromImage(t).fft(),s=i.toMaginitude().autoContrast().toBuffer(6),h=i.toPhase().toBuffer(),o=i.ifft().toBuffer();s.toCanvas(a),h.toCanvas(e),o.toCanvas(r)}}}),i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"section-fft"},[e("h1",[t._v("FFT")]),t._v(" "),e("p",[t._v("Experiments with Fast Fourier Transformations in javascript. Click an image at the top to show an FFT magnitude and phase image.")]),t._v(" "),e("img",{attrs:{src:"/static/sample-images/lena.png"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/clown.jpg"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/sine4.png"},on:{click:t.selectImage}}),t._v(" "),e("img",{attrs:{src:"/static/sample-images/twigs.jpg"},on:{click:t.selectImage}}),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[t._v("\n      Magnitude"),e("br"),t._v(" "),e("canvas",{staticClass:"mag-canvas",attrs:{width:"100",height:"100"}})]),t._v(" "),e("div",[t._v("\n      Phase"),e("br"),t._v(" "),e("canvas",{staticClass:"phase-canvas",attrs:{width:"100",height:"100"}})]),t._v(" "),e("div",[t._v("\n      Inverse FFT"),e("br"),t._v(" "),e("canvas",{staticClass:"output-canvas",attrs:{width:"100",height:"100"}})])])}]};var s=e("VU/8")(r,i,!1,function(t){e("NznP")},"data-v-38a06b61",null);a.default=s.exports},NznP:function(t,a){}});
//# sourceMappingURL=10.38070e2d1ae2745c6a2c.js.map